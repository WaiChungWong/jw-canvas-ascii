(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(26)},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a(4),r=a(6),s=a(5),c=a(7),o=a(1),l=a(0),h=a.n(l),u=a(9),d=a(2),v=a(10),f=a.n(v),m=a(11),p=Math.min,b=Math.floor,g=Array(10).fill(Array(10).fill(".").join("")).join("\n"),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).textWidth=null,a.textHeight=null,a.update=a.update.bind(Object(o.a)(Object(o.a)(a))),a.state={asciiCode:""},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.update()}},{key:"_getPixels",value:function(){var e,t,a=this.canvas,i=a.width,n=a.height;if(null!==(e=a.getContext("2d")))t=e.getImageData(0,0,i,n).data;else if(null!==(e=a.getContext("webgl"))){var r=e,s=r.RGBA,c=r.UNSIGNED_BYTE;t=new Uint8Array(4*i*n),e.readPixels(0,0,i,n,s,c,t);for(var o=4*i,l=new Uint8Array(o),h=0;h<Math.floor(n/2);h++){var u=h*o,d=(n-h-1)*o;l.set(t.subarray(u,u+o)),t.copyWithin(u,d,d+o),t.set(l,d)}}return t}},{key:"setCanvas",value:function(e){this.canvas=e,this.update()}},{key:"getTextElement",value:function(){return this.asciiElement}},{key:"generateAsciiCode",value:function(){var e=this.canvas,t=this.calibrator,a=this.props,i=a.invert,n=a.asciiData,r=255/n.length;this.textWidth=t.offsetWidth/10,this.textHeight=t.offsetHeight/10;var s="";if(e){var c=e.width,o=e.height,l=e.offsetWidth,h=e.offsetHeight;if(c&&o&&l&&h)for(var u=l/c,d=h/o,v=this.textWidth/u,f=this.textHeight/d,m=this._getPixels(),g=0;g<o;g+=f){for(var w=0;w<c;w+=v){var y=Math.round(g)*c*4+4*Math.round(w);if(y>=m.length)break;var E=m[y]+m[y+1]+m[y+2];E=E/3*m[y+3]/255,!1===i&&(E=255-E),s+=n[p(b(E/r),n.length-1)]}s+="\n"}}return s}},{key:"update",value:function(){this.setState({asciiCode:this.generateAsciiCode()})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.invert,t.asciiData,Object(m.a)(t,["invert","asciiData"])),i=this.state.asciiCode;return h.a.createElement("div",a,h.a.createElement("pre",{ref:function(t){return e.calibrator=t},style:{position:"absolute",margin:"0px",visibility:"hidden"}},g),h.a.createElement("pre",{ref:function(t){return e.asciiElement=t},style:{position:"absolute",margin:"0px"}},i))}}]),t}(l.Component);w.defaultProps={invert:!1,asciiData:[" ",".",",",";","|","*","%","@","X","#","W","M"]};var y=w,E=(a(25),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={fontSize:7,invert:!1,showDrawing:!0},a._resizeHandler=a._resizeHandler.bind(Object(o.a)(Object(o.a)(a))),a.animate=a.animate.bind(Object(o.a)(Object(o.a)(a))),a.scene=new d.Scene,a.camera=new d.PerspectiveCamera(50,1,1,1e3),a.camera.position.z=60,a.scene.add(a.camera);var n=new d.PointLight(16776960);n.position.set(10,0,25),a.scene.add(n);var c=new d.BoxGeometry(20,20,20),l=new d.MeshLambertMaterial({color:5635925});return a.cube=new d.Mesh(c,l),a.scene.add(a.cube),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"animate",value:function(e,t,a){var i=this.cube;i.rotation.x+=a,i.rotation.y+=a,this.ascii2.update()}},{key:"componentDidMount",value:function(){var e=this.canvas1,t=this.ascii1,a=this.canvas2,i=this.ascii2,n=e.getContext("2d"),r=e.width/2,s=e.height/2;n.fillStyle="white",n.fillRect(0,0,e.width,e.height),n.beginPath(),n.arc(r,s,70,0,2*Math.PI,!1),n.fillStyle="yellow",n.fill(),n.lineWidth=5,n.strokeStyle="black",n.stroke(),n.beginPath();var c=s-20;n.arc(r-25,c,10,0,2*Math.PI,!1),n.arc(r+25,c,10,0,2*Math.PI,!1),n.fillStyle="black",n.fill(),n.beginPath(),n.arc(r,s,50,0,Math.PI,!1),n.stroke(),t.setCanvas(e),a.renderer.setClearColor(16777215),i.setCanvas(a.getCanvasElement()),a.animator.start(),window.addEventListener("resize",this._resizeHandler,!1),setTimeout(function(){t.update(),i.update()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeHandler)}},{key:"_resizeHandler",value:function(){this.ascii1.update(),this.ascii2.update()}},{key:"render",value:function(){var e=this,t=this.scene,a=this.camera,i=this.state,n=i.fontSize,r=i.invert,s=i.showDrawing;return h.a.createElement("div",{id:"demo"},h.a.createElement("div",{className:"ascii"},h.a.createElement("canvas",{ref:function(t){return e.canvas1=t},className:s?"show":""}),h.a.createElement(y,{ref:function(t){return e.ascii1=t},style:{fontSize:"".concat(n,"px")},invert:r})),h.a.createElement("div",{className:"ascii"},h.a.createElement(f.a,{className:s?"show":"",ref:function(t){return e.canvas2=t},animate:this.animate,scene:t,camera:a}),h.a.createElement(y,{ref:function(t){return e.ascii2=t},style:{fontSize:"".concat(n,"px")},invert:r})),h.a.createElement("div",{id:"settings"},h.a.createElement("div",{className:"title"},"Settings"),h.a.createElement("div",{className:"field"},h.a.createElement("label",{htmlFor:"invert"},"invert value: "),h.a.createElement("input",{id:"invert",type:"checkbox",checked:r,onChange:function(t){return e.setState({invert:t.target.checked})}})),h.a.createElement("div",{className:"field"},h.a.createElement("label",{htmlFor:"fontSize"},"font size: "),h.a.createElement("input",{id:"fontSize",type:"number",value:n,onChange:function(t){return e.setState({fontSize:t.target.value})}})),h.a.createElement("div",{className:"field"},h.a.createElement("label",{htmlFor:"showDrawing"},"show drawing: "),h.a.createElement("input",{id:"showDrawing",type:"checkbox",checked:s,onChange:function(t){return e.setState({showDrawing:t.target.checked})}}))))}}]),t}(l.Component));Object(u.render)(h.a.createElement(E,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.0d06ffe0.chunk.js.map